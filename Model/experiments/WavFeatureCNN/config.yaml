# 此配置文件用於設置WavFeatureCNN模型的訓練參數

# 特徵處理配置
feature_processing:
  window_size: 129
  target_dim: 2000
  stride: 64
  batch_proc_size: 32

# google colab 路徑數據目錄配置
data_dir: "/content/drive/MyDrive/MicforDysphagia/WavData/AutoEncoderData"
original_data_dir: "/content/drive/MyDrive/MicforDysphagia/WavData/OriginalData"

# # 本地路徑數據目錄配置
# data_dir: "WavData/AutoEncoderData"
# original_data_dir: "WavData/OriginalData"

# 音頻處理配置
audio:
  sr: 16000  # 採樣率
  frame_size: 256
  overlap: 128
  fft_size: 256
  seq_num: 129  # 窗口大小，對應 example.py
  stride: 64    # 步長，確保50%重疊
  batch_proc_size: 10

# 模型結構配置
model:
  window_size: 129
  target_dim: 2000
  filters: [64, 128, 256]  # 三個卷積層的濾波器數量
  kernel_sizes: [7, 5, 3]  # 三個卷積層的核大小
  pool_sizes: [2, 2, 2]    # 三個池化層的池化大小
  dropout_rate: 0.5
  use_batch_norm: true

# 訓練配置
training:
  batch_size: 32
  epochs: 100
  learning_rate: 0.001
  early_stopping_patience: 10
  reduce_lr_patience: 5
  reduce_lr_factor: 0.5
  min_lr: 0.00001
  verbose: 1  # 訓練過程中的輸出詳細程度
  save_best_only: true
  monitor_metric: "val_loss"
  use_multiprocessing: true
  workers: 4
  model_save_path: "saved_models/WavFeatureCNN"  # 模型保存路徑
  validation_split: 0.2  # 驗證集比例
  test_split: 0.1  # 測試集比例

# 數據集配置
dataset:
  base_paths:
    - "WavData/NormalSubject"
    - "WavData/PatientSubject"
  score_threshold: 3
  selection_types:
    NoMovement: ["無動作", "無吞嚥"]
    DrySwallow: ["乾吞嚥1口", "乾吞嚥2口", "乾吞嚥3口", "乾吞嚥"]
    Cracker: ["餅乾1塊", "餅乾2塊", "餅乾"]
    Jelly: ["吞果凍", "果凍"]
    WaterDrinking: ["吞水10ml", "吞水20ml", "喝水", "吞水"]
  action_types:
    - "NoMovement"
    - "DrySwallow"
    - "Cracker"
    - "Jelly"
    - "WaterDrinking"
  labels_str:
    - "Normal-No Movement"
    - "Normal-Dry Swallow"
    - "Normal-Cracker"
    - "Normal-Jelly"
    - "Normal-Water Drinking"
    - "Patient-No Movement"
    - "Patient-Dry Swallow"
    - "Patient-Cracker"
    - "Patient-Jelly"
    - "Patient-Water Drinking" 